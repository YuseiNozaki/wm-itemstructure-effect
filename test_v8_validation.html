<!DOCTYPE html>
<html>
<head>
  <title>jsPsych v8 Validation Test</title>
  <script src="https://unpkg.com/jspsych@8"></script>
  <script src="https://unpkg.com/@jspsych/plugin-html-keyboard-response@2"></script>
  <script src="https://unpkg.com/@jspsych/plugin-survey-text@2"></script>
  <script src="https://unpkg.com/@jspsych/plugin-preload@2"></script>
  <script src="https://unpkg.com/@jspsych/plugin-instructions@2"></script>
  <script src="https://unpkg.com/@jspsych/plugin-canvas-keyboard-response@2"></script>
  <script src="https://unpkg.com/@jspsych/plugin-survey-multi-choice@2"></script>
  <link href="https://unpkg.com/jspsych@8/css/jspsych.css" rel="stylesheet" type="text/css" />
</head>
<body>
  <div id="jspsych-target"></div>
  <script>
    // Test that all plugins load correctly and jsPsych v8 initializes
    const jsPsych = initJsPsych({
      display_element: 'jspsych-target',
      on_finish: function() {
        console.log('âœ“ jsPsych v8 validation test completed successfully');
      }
    });

    // Simple test trial
    const welcome = {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: '<h1>jsPsych v8 Test</h1><p>Press SPACE to continue</p>',
      choices: [' ']
    };

    const survey = {
      type: jsPsychSurveyText,
      questions: [
        {prompt: "Test question:", rows: 2, columns: 40}
      ]
    };

    const end = {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: '<h1>Success!</h1><p>All plugins loaded correctly in v8</p>',
      choices: ['Enter']
    };

    jsPsych.run([welcome, survey, end]);
  </script>
</body>
</html>
<!DOCTYPE html>
<html>
<head>
  <title>Test jsPsych v8</title>
  <script src="https://unpkg.com/jspsych@8.2.1/dist/jspsych.js"></script>
  <script src="https://unpkg.com/@jspsych/plugin-html-keyboard-response@2.0.0/dist/index.browser.min.js"></script>
  <link href="https://unpkg.com/jspsych@8.2.1/css/jspsych.css" rel="stylesheet" type="text/css" />
</head>
<body>
  <div id="jspsych-target"></div>
  <script>
    // Test jsPsych v8 functionality
    const jsPsych = initJsPsych({
      display_element: 'jspsych-target',
      on_finish: function() {
        console.log('v8 test completed successfully');
      }
    });

    const welcome = {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: '<h1>jsPsych v8 Test</h1><p>Press any key to continue.</p>'
    };

    const trial = {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: '<p>This is a test trial. Press SPACE to continue.</p>',
      choices: [' '],
      data: { task: 'test' }
    };

    const end = {
      type: jsPsychHtmlKeyboardResponse,
      stimulus: '<h1>Test Complete</h1><p>jsPsych v8 is working correctly.</p>',
      choices: 'NO_KEYS',
      trial_duration: 2000
    };

    const timeline = [welcome, trial, end];

    jsPsych.run(timeline);
  </script>
</body>
</html>